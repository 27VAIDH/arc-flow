# Ralph Progress Log
Started: Sun Feb 15 15:44:51 IST 2026

## Codebase Patterns
- Tailwind CSS v4 uses `@import "tailwindcss"` instead of `@tailwind` directives
- Dark mode uses Tailwind `class` strategy via `tailwind.config.ts`
- Vite builds Chrome extension with multi-entry: sidepanel HTML + service-worker TS
- manifest.json lives in `public/` and is copied to `dist/` by a custom Vite plugin
- Side panel HTML path in manifest must match Vite's output: `src/sidepanel/index.html`
- ESLint 9 flat config in `eslint.config.js` (not .eslintrc)
- All data model types in `src/shared/types.ts`
- Chrome types via `@types/chrome` devDependency
- Prettier checks only `src/**/*.{ts,tsx,css,html}` to avoid .gitkeep issues
- Message types (ServiceWorkerMessage, SidePanelMessage, TabInfo) defined in `src/shared/types.ts`
- Service worker broadcasts tab changes via `chrome.runtime.sendMessage`; side panel listens via `chrome.runtime.onMessage`
- `chrome.runtime.sendMessage` throws if no listener exists (e.g., side panel closed); always `.catch()` the promise
- Side panel communicates tab actions (close, etc.) via message passing to service worker which has `chrome.tabs` access
- Theme managed via `useTheme` hook in `src/sidepanel/useTheme.ts`; applies `dark` class to `<html>` element
- Theme preference stored in `chrome.storage.local` under `settings.theme` key
- Sidebar footer (Zone 5) pushed to bottom via `flex-1` on the content area
- `chrome.storage.onChanged` listener pattern for real-time UI updates when storage changes
- Origin matching for URL comparison: `new URL(url).origin` (wrap in try/catch for invalid URLs)
- Context menus use a shared `ContextMenu` component in `src/sidepanel/ContextMenu.tsx` — rendered at App level, state lifted via `setContextMenu`
- In-sidebar context menus use `onContextMenu` React handler (not `chrome.contextMenus` API which is for page-level context menus)
- Drag-and-drop uses `@dnd-kit/core` + `@dnd-kit/sortable` + `@dnd-kit/utilities`; PointerSensor with `distance: 5` prevents accidental drags from clicks
---

## Iteration 1 - Sun Feb 15 15:44:52 IST 2026
Tool: claude
Log: /Users/vaidhprakashchoudhary/Documents/Projects/Development/fun-projects/arc-flow/scripts/ralph/runs/20260215-154451/iter-1.log
---
Error: Claude Code cannot be launched inside another Claude Code session.
Nested sessions share runtime resources and will crash all active sessions.
To bypass this check, unset the CLAUDECODE environment variable.
⚠️  timeout failed with ITER_TIMEOUT='1200'. Running without timeout.
Error: Claude Code cannot be launched inside another Claude Code session.
Nested sessions share runtime resources and will crash all active sessions.
To bypass this check, unset the CLAUDECODE environment variable.
---

## Iteration 2 - Sun Feb 15 15:44:54 IST 2026
Tool: claude
Log: /Users/vaidhprakashchoudhary/Documents/Projects/Development/fun-projects/arc-flow/scripts/ralph/runs/20260215-154451/iter-2.log
---
Error: Claude Code cannot be launched inside another Claude Code session.
Nested sessions share runtime resources and will crash all active sessions.
To bypass this check, unset the CLAUDECODE environment variable.
⚠️  timeout failed with ITER_TIMEOUT='1200'. Running without timeout.
Error: Claude Code cannot be launched inside another Claude Code session.
Nested sessions share runtime resources and will crash all active sessions.
To bypass this check, unset the CLAUDECODE environment variable.
---

## Iteration 3 - Sun Feb 15 15:44:56 IST 2026
Tool: claude
Log: /Users/vaidhprakashchoudhary/Documents/Projects/Development/fun-projects/arc-flow/scripts/ralph/runs/20260215-154451/iter-3.log
---
Error: Claude Code cannot be launched inside another Claude Code session.
Nested sessions share runtime resources and will crash all active sessions.
To bypass this check, unset the CLAUDECODE environment variable.
⚠️  timeout failed with ITER_TIMEOUT='1200'. Running without timeout.
Error: Claude Code cannot be launched inside another Claude Code session.
Nested sessions share runtime resources and will crash all active sessions.
To bypass this check, unset the CLAUDECODE environment variable.
---

## 2026-02-15 15:49 IST - US-001
- Implemented full project scaffolding: Vite + React 18 + TypeScript + Tailwind CSS v4 + Chrome Manifest V3
- Files created:
  - package.json (with dev, build, typecheck, lint scripts)
  - tsconfig.json (strict mode enabled)
  - tailwind.config.ts (dark mode class strategy)
  - vite.config.ts (multi-entry build for sidepanel + service-worker)
  - eslint.config.js + .prettierrc
  - public/manifest.json (MV3 with sidePanel, tabs, storage, contextMenus)
  - src/shared/types.ts (Workspace, PinnedApp, Folder, FolderItem, ArchiveEntry, Settings)
  - src/sidepanel/ (index.html, main.tsx, App.tsx, index.css)
  - src/background/service-worker.ts
  - src/content/.gitkeep
  - .gitignore
- **Learnings for future iterations:**
  - Tailwind v4 uses `@import "tailwindcss"` not `@tailwind base/components/utilities`
  - ESLint 9 uses flat config format, not .eslintrc
  - Vite service-worker entry produces empty chunk (expected, will fill in US-002/003)
  - manifest.json side_panel path must match Vite output: `src/sidepanel/index.html` not `sidepanel.html`
  - eslint-plugin-react-hooks v7 needs eslint@9 specifically (not 10)
  - Node 20.12 shows version warnings with Vite 7 but builds successfully
---

## Iteration 1 - Sun Feb 15 15:51:19 IST 2026
Tool: claude
Log: /Users/vaidhprakashchoudhary/Documents/Projects/Development/fun-projects/arc-flow/scripts/ralph/runs/20260215-154616/iter-1.log
---
US-001 is complete. There are still stories with `passes: false` (US-002 through US-041), so the next iteration will pick up US-002.

**Summary of US-001 completion:**
- Created branch `ralph/arcflow-sidebar`
- Scaffolded complete project: Vite + React 18 + TypeScript + Tailwind CSS v4 + Chrome MV3
- All acceptance criteria met:
  - `package.json` with all required dependencies
  - `manifest.json` with MV3, sidePanel, tabs, storage, contextMenus
  - `tsconfig.json` with strict mode
  - Tailwind with dark mode class strategy
  - Source structure: `src/sidepanel/`, `src/background/`, `src/shared/`, `src/content/`
  - All data model interfaces in `src/shared/types.ts`
  - Build produces loadable `dist/` folder
  - ESLint + Prettier with `npm run lint`
  - Typecheck passes
---

## 2026-02-15 - US-002
- Implemented side panel registration and basic React rendering
- Files changed:
  - src/background/service-worker.ts (added sidePanel registration and setPanelBehavior)
- **Learnings for future iterations:**
  - `chrome.sidePanel.setPanelBehavior({ openPanelOnActionClick: true })` should be called at top level of service worker, not inside a listener
  - `chrome.sidePanel.setOptions()` called inside `onInstalled` to set the panel path
  - The side panel HTML, main.tsx, and App.tsx were already created in US-001 scaffolding
  - Service worker just needed the chrome.sidePanel API calls to complete this story
---

## Iteration 2 - Sun Feb 15 15:53:05 IST 2026
Tool: claude
Log: /Users/vaidhprakashchoudhary/Documents/Projects/Development/fun-projects/arc-flow/scripts/ralph/runs/20260215-154616/iter-2.log
---
US-002 is complete. There are still stories with `passes: false` (US-003 through US-041), so the next iteration will pick up US-003.

**Summary of US-002 completion:**
- Updated `src/background/service-worker.ts` to register the side panel via `chrome.sidePanel.setOptions()` on install and set `openPanelOnActionClick: true` for toolbar icon toggle
- All acceptance criteria met:
  - `src/sidepanel/index.html` exists as side panel entry point (from US-001)
  - `src/sidepanel/main.tsx` renders React root (from US-001)
  - `src/sidepanel/App.tsx` renders basic layout with ArcFlow header (from US-001)
  - Service worker registers side panel via `chrome.sidePanel.setOptions()`
  - Service worker calls `chrome.sidePanel.setPanelBehavior({ openPanelOnActionClick: true })`
  - Clicking toolbar icon toggles side panel
  - Typecheck passes
- Committed as `cfb8ee6`
---

## 2026-02-15 - US-003
- Implemented service worker tab event listeners and state broadcasting
- Files changed:
  - src/background/service-worker.ts (added tab lifecycle listeners, debouncing, persistence, broadcasting)
  - src/shared/types.ts (added TabInfo, ServiceWorkerMessage, SidePanelMessage types)
  - src/sidepanel/App.tsx (added message listener and React state for tab list)
- **Learnings for future iterations:**
  - `chrome.runtime.sendMessage()` returns a promise that rejects if no listener is registered (e.g., side panel not open). Always `.catch()` it.
  - Debouncing with `setTimeout` in service workers works but the timer may be cleared if the worker is terminated. State persistence to `chrome.storage.local` provides the safety net.
  - Side panel can request initial tabs via `GET_TABS` message with `sendResponse` pattern (return `true` from listener for async response).
  - `chrome.tabs.query({ currentWindow: true })` returns tabs for the window context the service worker is associated with.
---

## Iteration 3 - Sun Feb 15 15:56:13 IST 2026
Tool: claude
Log: /Users/vaidhprakashchoudhary/Documents/Projects/Development/fun-projects/arc-flow/scripts/ralph/runs/20260215-154616/iter-3.log
---
US-003 is complete. There are still stories with `passes: false` (US-004 through US-041), so the next iteration will pick up US-004.

**Summary of US-003 completion:**
- Added `TabInfo`, `ServiceWorkerMessage`, and `SidePanelMessage` types to `src/shared/types.ts`
- Updated `src/background/service-worker.ts` with:
  - Tab lifecycle listeners: `onCreated`, `onRemoved`, `onActivated`, `onUpdated`, `onMoved`
  - Startup tab query via `chrome.tabs.query({ currentWindow: true })`
  - 50ms debounced refresh for batching rapid changes
  - Broadcasting via `chrome.runtime.sendMessage`
  - Persistence to `chrome.storage.local` under `tabList` key
  - `GET_TABS` message handler for side panel requests
- Updated `src/sidepanel/App.tsx` with:
  - `chrome.runtime.onMessage` listener for `TABS_UPDATED` and `TAB_ACTIVATED`
  - Initial tab load via `GET_TABS` message + storage fallback
  - Basic tab list rendering with favicons
- All checks pass (typecheck, lint, build)
- Committed as `817bf2f`
---

## 2026-02-15 - US-004
- Implemented tab list display with favicons, titles, and close buttons
- Files changed:
  - src/sidepanel/App.tsx (refactored into TabItem component with hover close button, placeholder search bar, proper 32px height and 4px gap)
  - src/shared/types.ts (added CLOSE_TAB to SidePanelMessage union)
  - src/background/service-worker.ts (added CLOSE_TAB message handler)
- **Learnings for future iterations:**
  - TabItem extracted as a separate component for per-item hover state management
  - Favicon fallback: use an empty gray placeholder div when favIconUrl is missing; add onError handler to hide broken images
  - Close tab from side panel uses message passing (CLOSE_TAB -> service worker -> chrome.tabs.remove) since side panel doesn't have direct chrome.tabs access
  - `gap-1` in Tailwind = 4px gap between flex children
---

## Iteration 4 - Sun Feb 15 15:58:12 IST 2026
Tool: claude
Log: /Users/vaidhprakashchoudhary/Documents/Projects/Development/fun-projects/arc-flow/scripts/ralph/runs/20260215-154616/iter-4.log
---
**US-004 is complete.** Here's what was implemented:

- **TabItem component** with favicon (16x16), truncated title, and close button (X) that appears on hover
- **Placeholder search bar** area above the tab list
- **Tab items are 32px tall** (`h-8`) with **4px gap** (`gap-1`) between items
- **CLOSE_TAB message** added to side panel → service worker communication, enabling tab closure from the sidebar
- **Favicon fallback** with gray placeholder when no favicon URL is available, plus `onError` handler for broken images
- All quality checks pass (typecheck, lint, build)
- Committed as `91187dc`

There are still stories with `passes: false` (US-005 through US-041), so the next iteration will pick up US-005.
---

## 2026-02-15 - US-005
- Implemented tab switching and active tab indicator
- Files changed:
  - src/shared/types.ts (added SWITCH_TAB to SidePanelMessage union)
  - src/background/service-worker.ts (added SWITCH_TAB handler calling chrome.tabs.update)
  - src/sidepanel/App.tsx (added click handler on TabItem, active tab styling with 3px #2E75B6 left border and bold text)
- **Learnings for future iterations:**
  - Active tab styling uses `border-l-[3px] border-l-[#2E75B6]` with a matching transparent border on inactive tabs to prevent layout shift
  - Tab switching follows same message-passing pattern as tab close: side panel -> SWITCH_TAB message -> service worker -> chrome.tabs.update
  - Active state already tracked in TabInfo from US-003 (TAB_ACTIVATED message), so no additional state management was needed
---

## Iteration 5 - Sun Feb 15 16:00:09 IST 2026
Tool: claude
Log: /Users/vaidhprakashchoudhary/Documents/Projects/Development/fun-projects/arc-flow/scripts/ralph/runs/20260215-154616/iter-5.log
---
**US-005 is complete.** Here's what was implemented:

- **Tab switching**: Clicking a tab in the sidebar sends a `SWITCH_TAB` message to the service worker, which calls `chrome.tabs.update(tabId, { active: true })`
- **Active tab indicator**: Active tab displays with a 3px `#2E75B6` left border and bold text; inactive tabs have a transparent border to prevent layout shift
- **Bidirectional sync**: Already handled via `TAB_ACTIVATED` messages from US-003 — switching tabs via Chrome's native tab bar updates the sidebar highlight

All quality checks pass (typecheck, lint, build). Committed as `10c7ace`.

There are still stories with `passes: false` (US-006 through US-041), so the next iteration will pick up US-006.
---

## 2026-02-15 - US-006
- Implemented middle-click to close tabs from the sidebar
- Files changed:
  - src/sidepanel/App.tsx (added onMouseDown handler for middle-click close)
- **Learnings for future iterations:**
  - Most of US-006 was already implemented in US-004 (hover close button, CLOSE_TAB message, chrome.tabs.remove)
  - Middle-click is `e.button === 1` in React's MouseEvent; use `onMouseDown` not `onClick` since middle-click doesn't fire click events
  - `e.preventDefault()` on middle-click prevents the browser's default paste/scroll behavior
---

## Iteration 6 - Sun Feb 15 16:01:16 IST 2026
Tool: claude
Log: /Users/vaidhprakashchoudhary/Documents/Projects/Development/fun-projects/arc-flow/scripts/ralph/runs/20260215-154616/iter-6.log
---
**US-006 is complete.** Here's what was implemented:

- **Middle-click to close**: Added `onMouseDown` handler on tab entries that detects middle-click (`e.button === 1`) and sends the `CLOSE_TAB` message to the service worker
- The hover close button (X icon, 16x16) and `chrome.tabs.remove` via message passing were already implemented in US-004/US-005
- All quality checks pass (typecheck, lint, build)
- Committed as `4e9a0de`

There are still stories with `passes: false` (US-007 through US-041), so the next iteration will pick up US-007.
---

## 2026-02-15 - US-007
- Implemented light/dark theme support with system preference detection
- Files changed:
  - src/sidepanel/useTheme.ts (new - theme hook with system detection, persistence, cycling)
  - src/sidepanel/App.tsx (added footer with theme toggle button, integrated useTheme hook)
- **Learnings for future iterations:**
  - Theme is applied by toggling `dark` class on `document.documentElement` (Tailwind class strategy)
  - Theme preference stored in `chrome.storage.local` under key `settings.theme` with values `system | light | dark`
  - `useTheme` hook in `src/sidepanel/useTheme.ts` provides `theme`, `setTheme`, and `cycleTheme`
  - System theme changes detected via `window.matchMedia("(prefers-color-scheme: dark)")` change event listener
  - Footer is in Zone 5 of the sidebar layout; uses `flex-1` on the content area to push footer to bottom
  - Theme toggle cycles: system -> light -> dark -> system
---

## Iteration 7 - Sun Feb 15 16:04:05 IST 2026
Tool: claude
Log: /Users/vaidhprakashchoudhary/Documents/Projects/Development/fun-projects/arc-flow/scripts/ralph/runs/20260215-154616/iter-7.log
---
**US-007 is complete.** Here's what was implemented:

- **`src/sidepanel/useTheme.ts`** - New hook that:
  - Defaults to system preference via `prefers-color-scheme` media query
  - Listens for system theme changes in real-time
  - Persists theme preference to `chrome.storage.local` under `settings.theme`
  - Applies theme by toggling `dark` class on `<html>` (Tailwind class strategy)
  - Cycles through system -> light -> dark

- **`src/sidepanel/App.tsx`** - Updated with:
  - `ThemeToggle` component with sun/moon/monitor icons for each mode
  - Footer section (Zone 5) with theme toggle button
  - Layout restructured with `flex-1` on content to push footer to bottom
  - All existing `dark:` variants now functional

- **Acceptance criteria met:**
  - System preference detection via `prefers-color-scheme`
  - Light: gray-50 background, gray-900 text / Dark: gray-900 background, gray-100 text
  - Theme stored in `chrome.storage.local` under `settings.theme`
  - Manual toggle in sidebar footer cycles system/light/dark
  - Instant theme changes without reload
  - Persists across browser restarts
  - All UI elements adapt (already had `dark:` variants)
  - Tailwind `dark:` variant with class strategy
  - Typecheck, lint, and build all pass

There are still stories with `passes: false` (US-008 through US-041), so the next iteration will pick up US-008.
---

## 2026-02-15 - US-008
- Implemented Chrome storage helpers for pinned apps CRUD
- Files created:
  - src/shared/storage.ts (getPinnedApps, addPinnedApp, removePinnedApp, updatePinnedApp, reorderPinnedApps)
- **Learnings for future iterations:**
  - `chrome.storage.local.get()` returns `Record<string, unknown>` so cast result with `as PinnedApp[] | undefined` for type safety
  - Storage key is `pinnedApps` in `chrome.storage.local`
  - Maximum 12 pinned apps enforced in `addPinnedApp` — throws Error if limit reached
  - `getPinnedApps()` sorts by `sortOrder` before returning
  - `reorderPinnedApps(ids)` takes an array of IDs in desired order and assigns sequential sortOrder values
---

## Iteration 8 - Sun Feb 15 16:05:57 IST 2026
Tool: claude
Log: /Users/vaidhprakashchoudhary/Documents/Projects/Development/fun-projects/arc-flow/scripts/ralph/runs/20260215-154616/iter-8.log
---
**US-008 is complete.** Here's what was implemented:

- **`src/shared/storage.ts`** — New module with 5 exported functions:
  - `getPinnedApps()` — Retrieves pinned apps sorted by sortOrder
  - `addPinnedApp(app)` — Adds a pinned app, rejects if 12-app limit reached
  - `removePinnedApp(id)` — Removes a pinned app by ID
  - `updatePinnedApp(id, data)` — Partially updates a pinned app
  - `reorderPinnedApps(ids)` — Reorders apps by an array of IDs

- All acceptance criteria met:
  - Stored in `chrome.storage.local` under key `pinnedApps`
  - PinnedApp shape: `{ id, url, title, favicon, sortOrder }`
  - All functions return Promises
  - Maximum 12 pinned apps enforced
  - Typecheck and lint pass

- Committed as `233053f`

There are still stories with `passes: false` (US-009 through US-041), so the next iteration will pick up US-009.
---

## 2026-02-15 - US-009
- Implemented pinned apps row UI with display and click-to-switch
- Files created:
  - src/sidepanel/PinnedAppsRow.tsx (new component for pinned apps horizontal row)
- Files changed:
  - src/shared/types.ts (added OPEN_PINNED_APP to SidePanelMessage union)
  - src/background/service-worker.ts (added OPEN_PINNED_APP handler with origin matching)
  - src/sidepanel/App.tsx (imported and placed PinnedAppsRow in Zone 2)
  - src/sidepanel/index.css (added scrollbar-none utility class)
- **Learnings for future iterations:**
  - PinnedAppsRow listens to `chrome.storage.onChanged` for real-time updates when pinned apps are added/removed
  - Origin matching uses `new URL(url).origin` to find existing tabs before opening new ones
  - Active indicator is a 6px (w-1.5 h-1.5) colored dot below favicon using `#2E75B6` accent color
  - Horizontal scroll uses `overflow-x-auto` with custom `scrollbar-none` CSS class to hide scrollbar
  - Favicon fallback shows first letter of app title in a circle when no favicon URL
  - The component returns null when there are no pinned apps (clean empty state)
---

## Iteration 9 - Sun Feb 15 16:09:22 IST 2026
Tool: claude
Log: /Users/vaidhprakashchoudhary/Documents/Projects/Development/fun-projects/arc-flow/scripts/ralph/runs/20260215-154616/iter-9.log
---
**US-009 is complete.** Here's what was implemented:

- **`src/sidepanel/PinnedAppsRow.tsx`** — New component that:
  - Displays pinned apps as a horizontal row of 32x32 favicon circles (Zone 2, below search bar)
  - Scrolls horizontally when more than ~8 items, with hidden scrollbar
  - Shows a 6px `#2E75B6` active indicator dot below apps that have a matching open tab (origin matching)
  - Listens to `chrome.storage.onChanged` for real-time updates when pinned apps change
  - Falls back to showing first letter of title when no favicon is available

- **`src/shared/types.ts`** — Added `OPEN_PINNED_APP` message type with `url` and `origin` fields

- **`src/background/service-worker.ts`** — Added handler that finds an existing tab with matching origin (switches to it) or opens a new tab

- **`src/sidepanel/App.tsx`** — Integrated `PinnedAppsRow` between search bar and tab list

- All quality checks pass (typecheck, lint, build). Committed as `45f7fd3`.

There are still stories with `passes: false` (US-010 through US-041), so the next iteration will pick up US-010.
---

## 2026-02-15 - US-010
- Implemented pinned apps add/remove via sidebar context menu
- Files created:
  - src/sidepanel/ContextMenu.tsx (reusable context menu component with click-outside and Escape to close)
- Files changed:
  - src/sidepanel/App.tsx (added tab right-click with Pin/Unpin, lifted context menu state, pinned apps tracking)
  - src/sidepanel/PinnedAppsRow.tsx (added right-click on pinned app icons with Rename, Remove, Open in New Tab, Edit URL; inline editing support)
  - src/shared/types.ts (added OPEN_PINNED_APP_NEW_TAB message type)
  - src/background/service-worker.ts (added OPEN_PINNED_APP_NEW_TAB handler)
  - scripts/ralph/prd.json (marked US-010 passes: true)
- **Learnings for future iterations:**
  - Context menus are rendered at App level with state `{ x, y, items }` — child components call `onContextMenu(state)` to show them
  - ContextMenu component handles click-outside dismissal and Escape key; viewport overflow is auto-corrected
  - Inline editing for pinned app rename/URL edit uses a controlled input with blur-to-save and Escape-to-cancel
  - Pin/unpin detection uses origin matching (`getOrigin(tab.url) === getOrigin(app.url)`) for consistency with US-009
  - `OPEN_PINNED_APP_NEW_TAB` is a separate message type from `OPEN_PINNED_APP` — always opens a new tab without origin matching
---

## Iteration 10 - Sun Feb 15 16:12:27 IST 2026
Tool: claude
Log: /Users/vaidhprakashchoudhary/Documents/Projects/Development/fun-projects/arc-flow/scripts/ralph/runs/20260215-154616/iter-10.log
---
**US-010 is complete.** Here's what was implemented:

- **`src/sidepanel/ContextMenu.tsx`** — New reusable context menu component with click-outside dismissal, Escape key handling, and viewport overflow correction

- **Tab right-click context menu** — Right-clicking a tab shows "Pin to ArcFlow" (or "Unpin from ArcFlow" if already pinned based on origin matching)

- **Pinned app right-click context menu** — Right-clicking a pinned app icon shows: Rename, Edit URL, Open in New Tab, Remove

- **Inline editing** — Rename and Edit URL trigger an inline text input above the pinned apps row with blur-to-save and Escape-to-cancel

- **`OPEN_PINNED_APP_NEW_TAB`** message type added to always open a new tab (unlike `OPEN_PINNED_APP` which does origin matching first)

All quality checks pass (typecheck, lint, build). Committed as `b75e3b6`.

There are still stories with `passes: false` (US-011 through US-041), so the next iteration will pick up US-011.
---

## 2026-02-15 - US-011
- Implemented pinned apps drag-and-drop reorder
- Files changed:
  - package.json (added @dnd-kit/core, @dnd-kit/sortable, @dnd-kit/utilities)
  - src/sidepanel/PinnedAppsRow.tsx (wrapped pinned apps in DndContext + SortableContext, extracted SortablePinnedApp component)
- **Learnings for future iterations:**
  - `@dnd-kit/core` PointerSensor with `activationConstraint: { distance: 5 }` prevents accidental drags when user just wants to click
  - `useSortable` hook provides `setNodeRef`, `attributes`, `listeners`, `transform`, `transition` for each draggable item
  - `CSS.Transform.toString(transform)` from `@dnd-kit/utilities` converts transform to CSS string
  - `arrayMove` from `@dnd-kit/sortable` reorders arrays and is used for optimistic UI update before persisting
  - `touch-none` Tailwind class needed on draggable items to prevent browser touch scroll interference
  - `draggable={false}` on `<img>` elements inside draggable items prevents browser native image drag behavior
  - `horizontalListSortingStrategy` from `@dnd-kit/sortable` is ideal for horizontal reorder rows
---
